function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s,r=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){a=!0,s=t},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw s}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){return function(){var e,n=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var i=_getPrototypeOf(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3KNA":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i,s=n("2kYt"),r=n("CW98"),a=n("UnYO"),o=n("EM62"),c=((i=function t(){_classCallCheck(this,t)}).\u0275mod=o.Qb({type:i}),i.\u0275inj=o.Pb({factory:function(t){return new(t||i)},imports:[[s.c,r.a,a.d]]}),i)},LNcM:function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,e=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(s(window,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(window,"resize",this._checkForIntersections,!0),r(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var s=i.element,r=a(s),o=this._rootContainsTarget(s),c=i.entry,u=t&&o&&this._computeTargetAndRootIntersection(s,e),l=i.entry=new n({time:window.performance&&performance.now&&performance.now(),target:s,boundingClientRect:r,rootBounds:e,intersectionRect:u});c?t&&o?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(e,n){if("none"!=window.getComputedStyle(e).display){for(var i,s,r,o,u,l,h,g,f=a(e),d=c(e),p=!1;!p;){var m=null,b=1==d.nodeType?window.getComputedStyle(d):{};if("none"==b.display)return;if(d==this.root||d==t?(p=!0,m=n):d!=t.body&&d!=t.documentElement&&"visible"!=b.overflow&&(m=a(d)),m&&(i=m,s=f,r=Math.max(i.top,s.top),o=Math.min(i.bottom,s.bottom),u=Math.max(i.left,s.left),g=o-r,!(f=(h=(l=Math.min(i.right,s.right))-u)>=0&&g>=0&&{top:r,bottom:o,left:u,right:l,width:h,height:g})))break;d=c(d)}return f}},i.prototype._getRootRect=function(){var e;if(this.root)e=a(this.root);else{var n=t.documentElement,i=t.body;e={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var s=0;s<this.thresholds.length;s++){var r=this.thresholds[s];if(r==n||r==i||r<n!=r<i)return!0}},i.prototype._rootIsInDom=function(){return!this.root||o(t,this.root)},i.prototype._rootContainsTarget=function(e){return o(this.root||t,e)},i.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},i.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=i,window.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect;this.intersectionRatio=n?Number((i.width*i.height/n).toFixed(4)):this.isIntersecting?1:0}function i(t,e){var n,i,s,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,s=null,function(){s||(s=setTimeout((function(){n(),s=null}),i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function s(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function r(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function a(t){var e;try{e=t.getBoundingClientRect()}catch(n){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(t,e){for(var n=e;n;){if(n==t)return!0;n=c(n)}return!1}function c(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}()},UnYO:function(t,e,n){"use strict";n.d(e,"a",(function(){return Ot})),n.d(e,"c",(function(){return Ft})),n.d(e,"b",(function(){return Et})),n.d(e,"d",(function(){return Rt}));var i=n("EM62"),s=n("2kYt"),r=(n("QQZH"),n("ZTXN")),a=(n("IdLP"),n("KTx3"),n("g6G6"),n("6Oco"),n("C05f"));n("ROBh"),n("Efrr"),n("KRZI"),n("8lHc"),n("P4Xx"),n("HM3f");var o=n("YtkY"),c=(n("jIqt"),n("0Woy"),n("xVbo"),n("Ohay"),n("7ntQ"),n("kuMc"));n("5uGe"),n("ryP2"),n("TLy2"),n("mWib"),n("3mST");var u=n("ruxD"),l=(n("J+dc"),n("8j5Y"),n("nIj0")),h=n("sEIs"),g=n("sg/T"),f=(n("Sv/w"),n("HYj3"),n("qvOF"),n("cZZj"),n("f7+R")),d=(n("LNcM"),n("E5oP"),n("fL1z"),n("cqs0"),n("fAiE"),n("e4iD")),p=["*"],m=["nbButton",""];function b(t,e){if(1&t){var n=i.Zb();i.Yb(0,"div"),i.Yb(1,"span",8),i.gc("click",(function(){i.uc(n);var t=i.ic().$implicit;return i.ic(2).removeFile(t)})),i.Dc(2,"\xd7"),i.Xb(),i.Xb()}if(2&t){var s=i.ic().$implicit;i.Ac("background-image",s.urlStyle,i.Lb)}}function y(t,e){1&t&&i.Tb(0,"nb-icon",9)}function v(t,e){if(1&t){var n=i.Zb();i.Wb(0),i.Bc(1,b,3,2,"div",6),i.Yb(2,"div"),i.Bc(3,y,1,0,"nb-icon",7),i.Yb(4,"span",8),i.gc("click",(function(){i.uc(n);var t=e.$implicit;return i.ic(2).removeFile(t)})),i.Dc(5,"\xd7"),i.Xb(),i.Xb(),i.Vb()}if(2&t){var s=e.$implicit;i.Eb(1),i.oc("ngIf",s.urlStyle),i.Eb(2),i.oc("ngIf",!s.urlStyle)}}function w(t,e){if(1&t&&(i.Yb(0,"div",4),i.Bc(1,v,6,2,"ng-container",5),i.Xb()),2&t){var n=i.ic();i.Eb(1),i.oc("ngForOf",n.droppedFiles)}}function k(t,e){if(1&t&&i.Tb(0,"nb-icon",13),2&t){var n=i.ic(2);i.oc("icon",n.buttonIcon)}}function _(t,e){if(1&t&&i.Dc(0),2&t){var n=i.ic(2);i.Ec(n.buttonTitle)}}function C(t,e){if(1&t){var n=i.Zb();i.Yb(0,"button",10),i.gc("click",(function(){return i.uc(n),i.ic().sendMessage()})),i.Bc(1,k,1,1,"nb-icon",11),i.Bc(2,_,1,1,"ng-template",null,12,i.Cc),i.Xb()}if(2&t){var s=i.sc(3),r=i.ic();i.Ib("with-icon",!r.buttonTitle),i.oc("status",r.getButtonStatus()),i.Eb(1),i.oc("ngIf",!r.buttonTitle)("ngIfElse",s)}}function I(t,e){if(1&t&&(i.Wb(0),i.Dc(1),i.Vb()),2&t){var n=i.ic(2);i.Eb(1),i.Fc(" ",n.getInitials()," ")}}function E(t,e){if(1&t&&(i.Yb(0,"div",7),i.Bc(1,I,2,1,"ng-container",8),i.Xb()),2&t){var n=i.ic();i.Ac("background-image",n.avatarStyle,i.Lb),i.Eb(1),i.oc("ngIf",!n.avatarStyle)}}function F(t,e){if(1&t&&i.Tb(0,"nb-chat-message-file",9),2&t){var n=i.ic();i.oc("sender",n.sender)("date",n.date)("dateFormat",n.dateFormat)("message",n.message)("files",n.files)}}function O(t,e){if(1&t&&i.Tb(0,"nb-chat-message-quote",10),2&t){var n=i.ic();i.oc("sender",n.sender)("date",n.date)("dateFormat",n.dateFormat)("message",n.message)("quote",n.quote)}}function S(t,e){if(1&t&&i.Tb(0,"nb-chat-message-map",11),2&t){var n=i.ic();i.oc("sender",n.sender)("date",n.date)("message",n.message)("latitude",n.latitude)("longitude",n.longitude)}}function T(t,e){if(1&t&&i.Tb(0,"nb-chat-message-text",12),2&t){var n=i.ic();i.oc("sender",n.sender)("date",n.date)("dateFormat",n.dateFormat)("message",n.message)}}var x=["scrollable"];function M(t,e){if(1&t&&(i.Yb(0,"p",6),i.Dc(1),i.Xb()),2&t){var n=i.ic();i.Eb(1),i.Ec(n.noMessagesPlaceholder)}}var z=[[["nb-chat-message"]],[["nb-chat-form"]]],B=["nb-chat-message","nb-chat-form"],P=function(t){return[t]};function L(t,e){if(1&t&&i.Tb(0,"nb-icon",7),2&t){var n=i.ic().$implicit;i.oc("icon",n.icon)}}function R(t,e){if(1&t&&i.Tb(0,"div"),2&t){var n=i.ic().$implicit;i.Ac("background-image",n.urlStyle,i.Lb)}}function D(t,e){if(1&t&&(i.Yb(0,"a",4),i.Bc(1,L,1,1,"nb-icon",5),i.Bc(2,R,1,2,"div",6),i.Xb()),2&t){var n=e.$implicit;i.oc("href",n.url,i.wc),i.Eb(1),i.oc("ngIf",!n.urlStyle&&n.icon),i.Eb(1),i.oc("ngIf",n.urlStyle)}}function j(t,e){if(1&t&&(i.Wb(0),i.Yb(1,"div",2),i.Bc(2,D,3,3,"a",3),i.Xb(),i.Vb()),2&t){var n=i.ic();i.Eb(2),i.oc("ngForOf",n.readyFiles)}}function A(t,e){if(1&t&&i.Tb(0,"nb-icon",7),2&t){var n=i.ic(2);i.oc("icon",n.readyFiles[0].icon)}}function V(t,e){if(1&t&&i.Tb(0,"div"),2&t){var n=i.ic(2);i.Ac("background-image",n.readyFiles[0].urlStyle,i.Lb)}}function H(t,e){if(1&t&&(i.Wb(0),i.Yb(1,"a",4),i.Bc(2,A,1,1,"nb-icon",5),i.Bc(3,V,1,2,"div",6),i.Xb(),i.Vb()),2&t){var n=i.ic();i.Eb(1),i.oc("href",n.readyFiles[0].url,i.wc),i.Eb(1),i.oc("ngIf",!n.readyFiles[0].urlStyle&&n.readyFiles[0].icon),i.Eb(1),i.oc("ngIf",n.readyFiles[0].urlStyle)}}function N(t,e){if(1&t&&(i.Yb(0,"p",3),i.Dc(1),i.Yb(2,"time"),i.Dc(3),i.jc(4,"date"),i.Xb(),i.Xb()),2&t){var n=i.ic();i.Eb(1),i.Fc("",n.sender," "),i.Eb(2),i.Ec(i.lc(4,2,n.date,n.dateFormat))}}function Y(t,e){if(1&t&&(i.Yb(0,"p",2),i.Dc(1),i.Yb(2,"time"),i.Dc(3),i.jc(4,"date"),i.Xb(),i.Xb()),2&t){var n=i.ic();i.Eb(1),i.Fc("",n.sender," "),i.Eb(2),i.Ec(i.lc(4,2,n.date,n.dateFormat))}}function X(t,e){if(1&t&&(i.Yb(0,"p",3),i.Dc(1),i.Xb()),2&t){var n=i.ic();i.Eb(1),i.Ec(n.message)}}var q,W,$=((W=function t(){_classCallCheck(this,t)}).\u0275mod=i.Qb({type:W}),W.\u0275inj=i.Pb({factory:function(t){return new(t||W)},imports:[s.c,l.g,h.h]}),W),U=((q=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(g.c)).\u0275fac=function(t){return Dt(t||q)},q.\u0275prov=i.Ob({token:q,factory:q.\u0275fac}),q),Q=function(t){return t.SVG="svg",t.FONT="font",t}({}),G=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.name=e,this.content=n,this.params=i}return _createClass(t,[{key:"getClasses",value:function(t){var e=[];return this.params.packClass&&e.push(this.params.packClass),e.push(this.params.iconClassPrefix?"".concat(this.params.iconClassPrefix,"-").concat(this.name):this.name),e}},{key:"getContent",value:function(t){return this.content}}]),t}(),K=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.name=e,this.content=n,this.params=i}return _createClass(t,[{key:"getClasses",value:function(t){var e=[];return this.params.packClass&&e.push(this.params.packClass),e}},{key:"getContent",value:function(t){return this.content}}]),t}();function Z(t){throw Error("Icon Pack '".concat(t,"' is not registered"))}function J(t,e,n){throw Error("Pack '".concat(t,"' is not an '").concat(n,"' Pack and its type is '").concat(e,"'"))}var tt,et,nt,it=((nt=function(){function t(){_classCallCheck(this,t),this.packs=new Map}return _createClass(t,[{key:"registerSvgPack",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.packs.set(t,{name:t,icons:new Map(Object.entries(e)),params:n,type:Q.SVG})}},{key:"registerFontPack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.packs.set(t,{name:t,params:e,icons:new Map,type:Q.FONT})}},{key:"getPack",value:function(t){return this.packs.get(t)}},{key:"setDefaultPack",value:function(t){this.packs.has(t)||Z(t),this.defaultPack=this.packs.get(t)}},{key:"getSvgIcon",value:function(t,e){var n=e?this.getPackOrThrow(e):this.getDefaultPackOrThrow();n.type!==Q.SVG&&J(n.name,n.type,"SVG");var i=this.getIconFromPack(t,n);return{name:t,pack:n.name,type:Q.SVG,icon:this.createSvgIcon(t,i,n.params)}}},{key:"getFontIcon",value:function(t,e){var n=e?this.getPackOrThrow(e):this.getDefaultPackOrThrow();n.type!==Q.FONT&&J(n.name,n.type,"Font");var i=this.getIconFromPack(t,n,!1);return{name:t,pack:n.name,type:Q.FONT,icon:this.createFontIcon(t,i||"",n.params)}}},{key:"getIcon",value:function(t,e){return(e?this.getPackOrThrow(e):this.getDefaultPackOrThrow()).type===Q.SVG?this.getSvgIcon(t,e):this.getFontIcon(t,e)}},{key:"createSvgIcon",value:function(t,e,n){return e instanceof K?e:new K(t,e,n)}},{key:"createFontIcon",value:function(t,e,n){return e instanceof G?e:new G(t,e,n)}},{key:"getPackOrThrow",value:function(t){var e=this.packs.get(t);return e||Z(t),e}},{key:"getDefaultPackOrThrow",value:function(){return this.defaultPack||function(){throw Error("Default pack is not registered.")}(),this.defaultPack}},{key:"getIconFromPack",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n&&!e.icons.has(t)&&function(t,e){throw Error("Icon '".concat(t,"' is not registered in pack '").concat(e,"'. Check icon name or consider switching icon pack."))}(t,e.name),e.icons.get(t)}}]),t}()).\u0275fac=function(t){return new(t||nt)},nt.\u0275prov=Object(i.Ob)({factory:function(){return new nt},token:nt,providedIn:"root"}),nt),st=((et=function(){function t(e,n,i,s){_classCallCheck(this,t),this.sanitizer=e,this.iconLibrary=n,this.el=i,this.renderer=s,this.prevClasses=[],this.html=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.iconDef=this.renderIcon(this.icon,this.pack,this.options)}},{key:"ngOnChanges",value:function(){this.iconDef&&(this.iconDef=this.renderIcon(this.icon,this.pack,this.options))}},{key:"renderIcon",value:function(t,e,n){var i=this.iconLibrary.getIcon(t,e),s=i.icon.getContent(n);return s&&(this.html=this.sanitizer.bypassSecurityTrustHtml(s)),this.assignClasses(i.icon.getClasses(n)),i}},{key:"assignClasses",value:function(t){var e=this;this.prevClasses.forEach((function(t){e.renderer.removeClass(e.el.nativeElement,t)})),t.forEach((function(t){e.renderer.addClass(e.el.nativeElement,t)})),this.prevClasses=t}},{key:"primary",get:function(){return"primary"===this.status}},{key:"info",get:function(){return"info"===this.status}},{key:"success",get:function(){return"success"===this.status}},{key:"warning",get:function(){return"warning"===this.status}},{key:"danger",get:function(){return"danger"===this.status}},{key:"basic",get:function(){return"basic"===this.status}},{key:"control",get:function(){return"control"===this.status}},{key:"config",get:function(){return this._config},set:function(t){t&&(this._config=t,"string"==typeof t?this.icon=t:(this.icon=t.icon,this.pack=t.pack,this.status=t.status,this.options=t.options))}}]),t}()).\u0275fac=function(t){return new(t||et)(i.Sb(d.b),i.Sb(it),i.Sb(i.l),i.Sb(i.F))},et.\u0275cmp=i.Mb({type:et,selectors:[["nb-icon"]],hostVars:15,hostBindings:function(t,e){2&t&&(i.bc("innerHtml",e.html,i.vc),i.Ib("status-primary",e.primary)("status-info",e.info)("status-success",e.success)("status-warning",e.warning)("status-danger",e.danger)("status-basic",e.basic)("status-control",e.control))},inputs:{config:"config",icon:"icon",pack:"pack",status:"status",options:"options"},features:[i.Cb],decls:0,vars:0,template:function(t,e){},styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0}),et),rt=((tt=function t(e){_classCallCheck(this,t),this.iconsLibrary=e,this.essentialsPackName="nebular-essentials",this.iconsLibrary.getPack(this.essentialsPackName)||this.iconsLibrary.registerSvgPack(this.essentialsPackName,{"chevron-down-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-down"><rect width="24" height="24" opacity="0"/><path d="M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"/></g></g></svg>',"chevron-up-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"/></g></g></svg>',"chevron-left-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-left"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z"/></g></g></svg>',"chevron-right-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"/><path d="M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"/></g></g></svg>',"checkmark-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="checkmark"><rect width="24" height="24" opacity="0"/><path d="M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39 8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z"/></g></g></svg>',"paper-plane-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="paper-plane"><rect width="24" height="24" opacity="0"/><path d="M21 4a1.31 1.31 0 0 0-.06-.27v-.09a1 1 0 0 0-.2-.3 1 1 0 0 0-.29-.19h-.09a.86.86 0 0 0-.31-.15H20a1 1 0 0 0-.3 0l-18 6a1 1 0 0 0 0 1.9l8.53 2.84 2.84 8.53a1 1 0 0 0 1.9 0l6-18A1 1 0 0 0 21 4zm-4.7 2.29l-5.57 5.57L5.16 10zM14 18.84l-1.86-5.57 5.57-5.57z"/></g></g></svg>',"file-text-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="file-text"><rect width="24" height="24" opacity="0"/><path d="M15 16H9a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2z"/><path d="M9 14h3a1 1 0 0 0 0-2H9a1 1 0 0 0 0 2z"/><path d="M19.74 8.33l-5.44-6a1 1 0 0 0-.74-.33h-7A2.53 2.53 0 0 0 4 4.5v15A2.53 2.53 0 0 0 6.56 22h10.88A2.53 2.53 0 0 0 20 19.5V9a1 1 0 0 0-.26-.67zM14 5l2.74 3h-2a.79.79 0 0 1-.74-.85zm3.44 15H6.56a.53.53 0 0 1-.56-.5v-15a.53.53 0 0 1 .56-.5H12v3.15A2.79 2.79 0 0 0 14.71 10H18v9.5a.53.53 0 0 1-.56.5z"/></g></g></svg>',"alert-triangle-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="alert-triangle"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M22.56 16.3L14.89 3.58a3.43 3.43 0 0 0-5.78 0L1.44 16.3a3 3 0 0 0-.05 3A3.37 3.37 0 0 0 4.33 21h15.34a3.37 3.37 0 0 0 2.94-1.66 3 3 0 0 0-.05-3.04zm-1.7 2.05a1.31 1.31 0 0 1-1.19.65H4.33a1.31 1.31 0 0 1-1.19-.65 1 1 0 0 1 0-1l7.68-12.73a1.48 1.48 0 0 1 2.36 0l7.67 12.72a1 1 0 0 1 .01 1.01z"/><circle cx="12" cy="16" r="1"/><path d="M12 8a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"/></g></g></svg>',"question-mark-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="question-mark"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M17 9A5 5 0 0 0 7 9a1 1 0 0 0 2 0 3 3 0 1 1 3 3 1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-1.1A5 5 0 0 0 17 9z"/><circle cx="12" cy="19" r="1"/></g></g></svg>',"email-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-.67 2L12 10.75 5.67 6zM19 18H5a1 1 0 0 1-1-1V7.25l7.4 5.55a1 1 0 0 0 .6.2 1 1 0 0 0 .6-.2L20 7.25V17a1 1 0 0 1-1 1z"/></g></g></svg>',"flash-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="flash"><rect width="24" height="24" opacity="0"/><path d="M11.11 23a1 1 0 0 1-.34-.06 1 1 0 0 1-.65-1.05l.77-7.09H5a1 1 0 0 1-.83-1.56l7.89-11.8a1 1 0 0 1 1.17-.38 1 1 0 0 1 .65 1l-.77 7.14H19a1 1 0 0 1 .83 1.56l-7.89 11.8a1 1 0 0 1-.83.44zM6.87 12.8H12a1 1 0 0 1 .74.33 1 1 0 0 1 .25.78l-.45 4.15 4.59-6.86H12a1 1 0 0 1-1-1.11l.45-4.15z"/></g></g></svg>',"search-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="search"><rect width="24" height="24" opacity="0"/><path d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"/></g></g></svg>',"close-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/></g></g></svg>',"collapse-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="collapse"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 9h-2.58l3.29-3.29a1 1 0 1 0-1.42-1.42L15 7.57V5a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2z"/><path d="M10 13H5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L9 16.42V19a1 1 0 0 0 1 1 1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z"/></g></g></svg>',"expand-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="expand"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M20 5a1 1 0 0 0-1-1h-5a1 1 0 0 0 0 2h2.57l-3.28 3.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0L18 7.42V10a1 1 0 0 0 1 1 1 1 0 0 0 1-1z"/><path d="M10.71 13.29a1 1 0 0 0-1.42 0L6 16.57V14a1 1 0 0 0-1-1 1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2H7.42l3.29-3.29a1 1 0 0 0 0-1.42z"/></g></g></svg>',"minus-outline":'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="100%" height="100%" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="minus"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M19 13H5a1 1 0 0 1 0-2h14a1 1 0 0 1 0 2z"/></g></g></svg>',"minus-bold-outline":'<svg xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" viewBox="0 0 8 2" width="100%" height="100%"><defs><rect id="nb-mbo" y="3" width="8" height="2" rx="1"/></defs><use xlink:href="#nb-mbo" transform="translate(0 -3)" fill-rule="evenodd"/></svg>',"checkmark-bold-outline":'<svg xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor" viewBox="0 0 8 7" width="100%" height="100%"><defs><path id="nb-cbo" d="M6.039 1.43a1.11 1.11 0 0 1 1.517-.228c.483.342.588.998.234 1.466L4.431 7.1a1 1 0 0 1-1.492.115L.317 4.677a1.023 1.023 0 0 1 .002-1.483 1.113 1.113 0 0 1 1.535.002l1.641 1.59L6.04 1.428z"/></defs><use xlink:href="#nb-cbo" transform="translate(0 -1)" fill-rule="evenodd"/></svg>',"arrow-back":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="arrow-back"><rect width="24" height="24" transform="rotate(90 12 12)" opacity="0"/><path d="M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23 1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2z"/></g></g></svg>'})}).\u0275mod=i.Qb({type:tt}),tt.\u0275inj=i.Pb({factory:function(t){return new(t||tt)(i.cc(it))},imports:[[s.c]]}),tt);function at(t){return"string"==typeof t?"true"===(t=t.toLowerCase().trim())||""===t:!!t}function ot(t){console.warn("".concat(t,": Using empty string as a status is deprecated. Use `basic` instead."))}var ct,ut,lt,ht,gt,ft,dt,pt,mt,bt,yt,vt,wt,kt,_t,Ct=((gt=function(){function t(e,n,i,s){_classCallCheck(this,t),this.renderer=e,this.hostElement=n,this.cd=i,this.zone=s,this.size="medium",this.status="basic",this.shape="rectangle",this.appearance="filled",this._fullWidth=!1,this._disabled=!1}return _createClass(t,[{key:"onClick",value:function(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}},{key:"ngAfterViewInit",value:function(){var t=this;this.zone.runOutsideAngular((function(){return setTimeout((function(){t.renderer.addClass(t.hostElement.nativeElement,"nb-transition")}))}))}},{key:"filled",get:function(){return"filled"===this.appearance},set:function(t){at(t)&&(this.appearance="filled")}},{key:"outline",get:function(){return"outline"===this.appearance},set:function(t){at(t)&&(this.appearance="outline")}},{key:"ghost",get:function(){return"ghost"===this.appearance},set:function(t){at(t)&&(this.appearance="ghost")}},{key:"hero",get:function(){return"hero"===this.appearance},set:function(t){at(t)&&(this.appearance="hero")}},{key:"fullWidth",get:function(){return this._fullWidth},set:function(t){this._fullWidth=at(t)}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=at(t),this.renderer.setProperty(this.hostElement.nativeElement,"disabled",this.disabled)}},{key:"tabbable",get:function(){return this.disabled?"-1":"0"}},{key:"tiny",get:function(){return"tiny"===this.size}},{key:"small",get:function(){return"small"===this.size}},{key:"medium",get:function(){return"medium"===this.size}},{key:"large",get:function(){return"large"===this.size}},{key:"giant",get:function(){return"giant"===this.size}},{key:"primary",get:function(){return"primary"===this.status}},{key:"info",get:function(){return"info"===this.status}},{key:"success",get:function(){return"success"===this.status}},{key:"warning",get:function(){return"warning"===this.status}},{key:"danger",get:function(){return"danger"===this.status}},{key:"basic",get:function(){return"basic"===this.status}},{key:"control",get:function(){return"control"===this.status}},{key:"rectangle",get:function(){return"rectangle"===this.shape}},{key:"round",get:function(){return"round"===this.shape}},{key:"semiRound",get:function(){return"semi-round"===this.shape}},{key:"iconLeft",get:function(){var t,e=this.iconElement;return!(!e||(t=this.hostElement.nativeElement,Array.from(t.childNodes).filter((function(t){return t.nodeType!==Node.COMMENT_NODE}))[0]!==e))}},{key:"iconRight",get:function(){var t,e,n=this.iconElement;return!(!n||(t=this.hostElement.nativeElement,e=Array.from(t.childNodes).filter((function(t){return t.nodeType!==Node.COMMENT_NODE})),e[e.length-1]!==n))}},{key:"iconElement",get:function(){return this.hostElement.nativeElement.querySelector("nb-icon")}}]),t}()).\u0275fac=function(t){return new(t||gt)(i.Sb(i.F),i.Sb(i.l),i.Sb(i.h),i.Sb(i.A))},gt.\u0275cmp=i.Mb({type:gt,selectors:[["button","nbButton",""],["a","nbButton",""],["input","type","button","nbButton",""],["input","type","submit","nbButton",""]],hostVars:48,hostBindings:function(t,e){1&t&&i.gc("click",(function(t){return e.onClick(t)})),2&t&&(i.Fb("aria-disabled",e.disabled)("tabindex",e.tabbable),i.Ib("appearance-filled",e.filled)("appearance-outline",e.outline)("appearance-ghost",e.ghost)("appearance-hero",e.hero)("full-width",e.fullWidth)("btn-disabled",e.disabled)("size-tiny",e.tiny)("size-small",e.small)("size-medium",e.medium)("size-large",e.large)("size-giant",e.giant)("status-primary",e.primary)("status-info",e.info)("status-success",e.success)("status-warning",e.warning)("status-danger",e.danger)("status-basic",e.basic)("status-control",e.control)("shape-rectangle",e.rectangle)("shape-round",e.round)("shape-semi-round",e.semiRound)("icon-start",e.iconLeft)("icon-end",e.iconRight))},inputs:{size:"size",status:"status",shape:"shape",appearance:"appearance",filled:"filled",outline:"outline",ghost:"ghost",hero:"hero",fullWidth:"fullWidth",disabled:"disabled"},attrs:m,ngContentSelectors:p,decls:1,vars:0,template:function(t,e){1&t&&(i.nc(),i.mc(0))},styles:["[_nghost-%COMP%]{appearance:none;text-align:center;display:inline-flex;align-items:center;justify-content:center;white-space:nowrap;vertical-align:middle;user-select:none}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{text-decoration:none}.full-width[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]     nb-icon{vertical-align:top}.nb-transition[_nghost-%COMP%]{transition-duration:0.15s;transition-property:background-color,border-color,box-shadow,color;transition-timing-function:ease-in}"],changeDetection:0}),gt),It=((ht=function t(){_classCallCheck(this,t)}).\u0275mod=i.Qb({type:ht}),ht.\u0275inj=i.Pb({factory:function(t){return new(t||ht)},imports:[[$]]}),ht),Et=((lt=function(){function t(e,n){_classCallCheck(this,t),this.cd=e,this.domSanitizer=n,this.status="basic",this.inputFocus=!1,this.inputHover=!1,this.droppedFiles=[],this.imgDropTypes=["image/png","image/jpeg","image/gif"],this.message="",this.messagePlaceholder="Type a message",this.buttonTitle="",this.buttonIcon="paper-plane-outline",this.showButton=!0,this.dropFiles=!1,this.dropFilePlaceholder="Drop file to send",this.send=new i.o,this.fileOver=!1}return _createClass(t,[{key:"onDrop",value:function(t){var e=this;if(this.dropFiles&&(t.preventDefault(),t.stopPropagation(),this.fileOver=!1,t.dataTransfer&&t.dataTransfer.files)){var n,i=_createForOfIteratorHelper(t.dataTransfer.files);try{var s=function(){var t=n.value,i=t;if(e.imgDropTypes.includes(t.type)){var s=new FileReader;s.onload=function(t){i.src=t.target.result,i.urlStyle=e.domSanitizer.bypassSecurityTrustStyle("url(".concat(i.src,")")),e.cd.detectChanges()},s.readAsDataURL(t)}e.droppedFiles.push(i)};for(i.s();!(n=i.n()).done;)s()}catch(r){i.e(r)}finally{i.f()}}}},{key:"removeFile",value:function(t){var e=this.droppedFiles.indexOf(t);e>=0&&this.droppedFiles.splice(e,1)}},{key:"onDragOver",value:function(){this.dropFiles&&(this.fileOver=!0)}},{key:"onDragLeave",value:function(){this.dropFiles&&(this.fileOver=!1)}},{key:"sendMessage",value:function(){(this.droppedFiles.length||String(this.message).trim().length)&&(this.send.emit({message:this.message,files:this.droppedFiles}),this.message="",this.droppedFiles=[])}},{key:"setStatus",value:function(t){this.status!==t&&(this.status=t,this.cd.detectChanges())}},{key:"getInputStatus",value:function(){return this.fileOver?this.getHighlightStatus():this.inputFocus||this.inputHover?this.status:"basic"}},{key:"getButtonStatus",value:function(){return this.getHighlightStatus()}},{key:"getHighlightStatus",value:function(){return"basic"===this.status||"control"===this.status?"primary":this.status}}]),t}()).\u0275fac=function(t){return new(t||lt)(i.Sb(i.h),i.Sb(d.b))},lt.\u0275cmp=i.Mb({type:lt,selectors:[["nb-chat-form"]],hostVars:2,hostBindings:function(t,e){1&t&&i.gc("drop",(function(t){return e.onDrop(t)}))("dragover",(function(){return e.onDragOver()}))("dragleave",(function(){return e.onDragLeave()})),2&t&&i.Ib("file-over",e.fileOver)},inputs:{message:"message",messagePlaceholder:"messagePlaceholder",buttonTitle:"buttonTitle",buttonIcon:"buttonIcon",showButton:"showButton",dropFiles:"dropFiles",dropFilePlaceholder:"dropFilePlaceholder"},outputs:{send:"send"},decls:4,vars:7,consts:[["class","dropped-files",4,"ngIf"],[1,"message-row"],["nbInput","","fullWidth","","type","text",3,"status","ngModel","placeholder","focus","blur","mouseenter","mouseleave","ngModelChange","keyup.enter"],["nbButton","","class","send-button",3,"status","with-icon","click",4,"ngIf"],[1,"dropped-files"],[4,"ngFor","ngForOf"],[3,"background-image",4,"ngIf"],["icon","file-text-outline","pack","nebular-essentials",4,"ngIf"],[1,"remove",3,"click"],["icon","file-text-outline","pack","nebular-essentials"],["nbButton","",1,"send-button",3,"status","click"],["pack","nebular-essentials",3,"icon",4,"ngIf","ngIfElse"],["title",""],["pack","nebular-essentials",3,"icon"]],template:function(t,e){1&t&&(i.Bc(0,w,2,1,"div",0),i.Yb(1,"div",1),i.Yb(2,"input",2),i.gc("focus",(function(){return e.inputFocus=!0}))("blur",(function(){return e.inputFocus=!1}))("mouseenter",(function(){return e.inputHover=!0}))("mouseleave",(function(){return e.inputHover=!1}))("ngModelChange",(function(t){return e.message=t}))("keyup.enter",(function(){return e.sendMessage()})),i.Xb(),i.Bc(3,C,4,5,"button",3),i.Xb()),2&t&&(i.oc("ngIf",null==e.droppedFiles?null:e.droppedFiles.length),i.Eb(2),i.Ib("with-button",e.showButton),i.pc("placeholder",e.fileOver?e.dropFilePlaceholder:e.messagePlaceholder),i.oc("status",e.getInputStatus())("ngModel",e.message),i.Eb(1),i.oc("ngIf",e.showButton))},directives:function(){return[s.m,Pt,l.a,l.k,l.n,s.l,st,Ct]},encapsulation:2,changeDetection:0}),lt),Ft=((ut=function(){function t(e){_classCallCheck(this,t),this.domSanitizer=e,this._reply=!1}return _createClass(t,[{key:"getInitials",value:function(){return this.sender?this.sender.split(" ").map((function(t){return t.charAt(0)})).splice(0,2).join("").toUpperCase():""}},{key:"flyInOut",get:function(){return!0}},{key:"notReply",get:function(){return!this.reply}},{key:"reply",get:function(){return this._reply},set:function(t){this._reply=at(t)}},{key:"avatar",set:function(t){this.avatarStyle=t?this.domSanitizer.bypassSecurityTrustStyle("url(".concat(t,")")):null}}]),t}()).\u0275fac=function(t){return new(t||ut)(i.Sb(d.b))},ut.\u0275cmp=i.Mb({type:ut,selectors:[["nb-chat-message"]],hostVars:5,hostBindings:function(t,e){2&t&&(i.Gc("@flyInOut",e.flyInOut),i.Ib("not-reply",e.notReply)("reply",e.reply))},inputs:{reply:"reply",avatar:"avatar",message:"message",sender:"sender",date:"date",dateFormat:"dateFormat",files:"files",quote:"quote",latitude:"latitude",longitude:"longitude",type:"type"},decls:7,vars:5,consts:[["class","avatar",3,"background-image",4,"ngIf"],[1,"message"],[3,"ngSwitch"],[3,"sender","date","dateFormat","message","files",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message","quote",4,"ngSwitchCase"],[3,"sender","date","message","latitude","longitude",4,"ngSwitchCase"],[3,"sender","date","dateFormat","message",4,"ngSwitchDefault"],[1,"avatar"],[4,"ngIf"],[3,"sender","date","dateFormat","message","files"],[3,"sender","date","dateFormat","message","quote"],[3,"sender","date","message","latitude","longitude"],[3,"sender","date","dateFormat","message"]],template:function(t,e){1&t&&(i.Bc(0,E,2,3,"div",0),i.Yb(1,"div",1),i.Wb(2,2),i.Bc(3,F,1,5,"nb-chat-message-file",3),i.Bc(4,O,1,5,"nb-chat-message-quote",4),i.Bc(5,S,1,5,"nb-chat-message-map",5),i.Bc(6,T,1,4,"nb-chat-message-text",6),i.Vb(),i.Xb()),2&t&&(i.oc("ngIf",!e.reply),i.Eb(2),i.oc("ngSwitch",e.type),i.Eb(1),i.oc("ngSwitchCase","file"),i.Eb(1),i.oc("ngSwitchCase","quote"),i.Eb(1),i.oc("ngSwitchCase","map"))},directives:function(){return[s.m,s.n,s.o,s.p,xt,Mt,Tt,zt]},encapsulation:2,data:{animation:[Object(f.l)("flyInOut",[Object(f.i)("in",Object(f.j)({transform:"translateX(0)"})),Object(f.k)("void => *",[Object(f.j)({transform:"translateX(-100%)"}),Object(f.e)(80)]),Object(f.k)("* => void",[Object(f.e)(80,Object(f.j)({transform:"translateX(100%)"}))])])]},changeDetection:0}),ut),Ot=((ct=function(){function t(){_classCallCheck(this,t),this._status="basic",this.noMessagesPlaceholder="No messages yet.",this._scrollBottom=!0}return _createClass(t,[{key:"ngOnChanges",value:function(t){"status"in t&&this.updateFormStatus()}},{key:"ngAfterContentInit",value:function(){this.updateFormStatus()}},{key:"ngAfterViewInit",value:function(){var t=this;this.messages.changes.subscribe((function(e){t.messages=e,t.updateView()})),this.updateView()}},{key:"updateView",value:function(){this.scrollBottom&&this.scrollListBottom()}},{key:"scrollListBottom",value:function(){this.scrollable.nativeElement.scrollTop=this.scrollable.nativeElement.scrollHeight}},{key:"updateFormStatus",value:function(){this.chatForm&&this.chatForm.setStatus(this.status)}},{key:"status",get:function(){return this._status},set:function(t){t||(ot("NbChat"),t="basic"),this._status=t}},{key:"scrollBottom",get:function(){return this._scrollBottom},set:function(t){this._scrollBottom=at(t)}},{key:"tiny",get:function(){return"tiny"===this.size}},{key:"small",get:function(){return"small"===this.size}},{key:"medium",get:function(){return"medium"===this.size}},{key:"large",get:function(){return"large"===this.size}},{key:"giant",get:function(){return"giant"===this.size}},{key:"primary",get:function(){return"primary"===this.status}},{key:"success",get:function(){return"success"===this.status}},{key:"info",get:function(){return"info"===this.status}},{key:"warning",get:function(){return"warning"===this.status}},{key:"danger",get:function(){return"danger"===this.status}},{key:"basic",get:function(){return"basic"===this.status}},{key:"control",get:function(){return"control"===this.status}}]),t}()).\u0275fac=function(t){return new(t||ct)},ct.\u0275cmp=i.Mb({type:ct,selectors:[["nb-chat"]],contentQueries:function(t,e,n){var s;1&t&&(i.Kb(n,Et,!0),i.Kb(n,Ft,!1)),2&t&&(i.rc(s=i.hc())&&(e.chatForm=s.first),i.rc(s=i.hc())&&(e.messages=s))},viewQuery:function(t,e){var n;1&t&&i.Hc(x,!0),2&t&&i.rc(n=i.hc())&&(e.scrollable=n.first)},hostVars:24,hostBindings:function(t,e){2&t&&i.Ib("size-tiny",e.tiny)("size-small",e.small)("size-medium",e.medium)("size-large",e.large)("size-giant",e.giant)("status-primary",e.primary)("status-success",e.success)("status-info",e.info)("status-warning",e.warning)("status-danger",e.danger)("status-basic",e.basic)("status-control",e.control)},inputs:{noMessagesPlaceholder:"noMessagesPlaceholder",status:"status",scrollBottom:"scrollBottom",title:"title",size:"size"},features:[i.Cb],ngContentSelectors:B,decls:9,vars:2,consts:[[1,"header"],[1,"scrollable"],["scrollable",""],[1,"messages"],["class","no-messages",4,"ngIf"],[1,"form"],[1,"no-messages"]],template:function(t,e){1&t&&(i.nc(z),i.Yb(0,"div",0),i.Dc(1),i.Xb(),i.Yb(2,"div",1,2),i.Yb(4,"div",3),i.mc(5),i.Bc(6,M,2,1,"p",4),i.Xb(),i.Xb(),i.Yb(7,"div",5),i.mc(8,1),i.Xb()),2&t&&(i.Eb(1),i.Ec(e.title),i.Eb(5),i.oc("ngIf",!(null!=e.messages&&e.messages.length)))},directives:[s.m],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative;height:100%}"]}),ct),St=function t(){_classCallCheck(this,t)},Tt=((bt=function(){function t(e){_classCallCheck(this,t),this.dateFormat="shortTime",this.mapKey=e.messageGoogleMapKey}return _createClass(t,[{key:"file",get:function(){return{url:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(this.latitude,",").concat(this.longitude,"&zoom=12&size=400x400&key=").concat(this.mapKey),type:"image/png",icon:"location"}}}]),t}()).\u0275fac=function(t){return new(t||bt)(i.Sb(St))},bt.\u0275cmp=i.Mb({type:bt,selectors:[["nb-chat-message-map"]],inputs:{dateFormat:"dateFormat",message:"message",sender:"sender",date:"date",latitude:"latitude",longitude:"longitude"},decls:1,vars:7,consts:[[3,"files","message","sender","date","dateFormat"]],template:function(t,e){1&t&&i.Tb(0,"nb-chat-message-file",0),2&t&&i.oc("files",i.qc(5,P,e.file))("message",e.message)("sender",e.sender)("date",e.date)("dateFormat",e.dateFormat)},directives:function(){return[xt]},encapsulation:2,changeDetection:0}),bt),xt=((mt=function(){function t(e,n){_classCallCheck(this,t),this.cd=e,this.domSanitizer=n,this.dateFormat="shortTime"}return _createClass(t,[{key:"isImage",value:function(t){var e=t.type;return!!e&&["image/png","image/jpeg","image/gif"].includes(e)}},{key:"files",set:function(t){var e=this;this.readyFiles=(t||[]).map((function(t){var n=e.isImage(t);return Object.assign(Object.assign({},t),{urlStyle:n&&e.domSanitizer.bypassSecurityTrustStyle("url(".concat(t.url,")")),isImage:n})})),this.cd.detectChanges()}}]),t}()).\u0275fac=function(t){return new(t||mt)(i.Sb(i.h),i.Sb(d.b))},mt.\u0275cmp=i.Mb({type:mt,selectors:[["nb-chat-message-file"]],inputs:{dateFormat:"dateFormat",files:"files",message:"message",sender:"sender",date:"date"},decls:4,vars:7,consts:[[3,"sender","date","dateFormat","message"],[4,"ngIf"],[1,"message-content-group"],["target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",3,"href"],[3,"icon",4,"ngIf"],[3,"background-image",4,"ngIf"],[3,"icon"]],template:function(t,e){1&t&&(i.Yb(0,"nb-chat-message-text",0),i.Dc(1),i.Xb(),i.Bc(2,j,3,1,"ng-container",1),i.Bc(3,H,4,3,"ng-container",1)),2&t&&(i.oc("sender",e.sender)("date",e.date)("dateFormat",e.dateFormat)("message",e.message),i.Eb(1),i.Fc(" ",e.message," "),i.Eb(1),i.oc("ngIf",(null==e.readyFiles?null:e.readyFiles.length)>1),i.Eb(1),i.oc("ngIf",1===(null==e.readyFiles?null:e.readyFiles.length)))},directives:function(){return[zt,s.m,s.l,st]},encapsulation:2,changeDetection:0}),mt),Mt=((pt=function t(){_classCallCheck(this,t),this.dateFormat="shortTime"}).\u0275fac=function(t){return new(t||pt)},pt.\u0275cmp=i.Mb({type:pt,selectors:[["nb-chat-message-quote"]],inputs:{dateFormat:"dateFormat",message:"message",sender:"sender",date:"date",quote:"quote"},decls:5,vars:4,consts:[["class","sender",4,"ngIf"],[1,"quote"],[3,"message"],[1,"sender"]],template:function(t,e){1&t&&(i.Bc(0,N,5,5,"p",0),i.Yb(1,"p",1),i.Dc(2),i.Xb(),i.Yb(3,"nb-chat-message-text",2),i.Dc(4),i.Xb()),2&t&&(i.oc("ngIf",e.sender||e.date),i.Eb(2),i.Fc(" ",e.quote," "),i.Eb(1),i.oc("message",e.message),i.Eb(1),i.Fc(" ",e.message," "))},directives:function(){return[s.m,zt]},pipes:function(){return[s.e]},encapsulation:2,changeDetection:0}),pt),zt=((dt=function t(){_classCallCheck(this,t),this.dateFormat="shortTime"}).\u0275fac=function(t){return new(t||dt)},dt.\u0275cmp=i.Mb({type:dt,selectors:[["nb-chat-message-text"]],inputs:{dateFormat:"dateFormat",sender:"sender",message:"message",date:"date"},decls:2,vars:2,consts:[["class","sender",4,"ngIf"],["class","text",4,"ngIf"],[1,"sender"],[1,"text"]],template:function(t,e){1&t&&(i.Bc(0,Y,5,5,"p",0),i.Bc(1,X,2,1,"p",1)),2&t&&(i.oc("ngIf",e.sender||e.date),i.Eb(1),i.oc("ngIf",e.message))},directives:[s.m],pipes:[s.e],encapsulation:2,changeDetection:0}),dt),Bt=((ft=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ft)},ft.\u0275prov=i.Ob({token:ft,factory:ft.\u0275fac}),ft),Pt=((wt=yt=function(){function t(e,n,i,s){_classCallCheck(this,t),this.elementRef=e,this.focusMonitor=n,this.renderer=i,this.zone=s,this.destroy$=new r.a,this.fieldSize="medium",this._status="basic",this.shape="rectangle",this._fullWidth=!1,this.status$=new a.a(this.status),this.size$=new a.a(this.fieldSize),this.focused$=new a.a(!1),this.disabled$=new a.a(!1)}return _createClass(t,[{key:"ngDoCheck",value:function(){var t=this.elementRef.nativeElement.disabled;t!==this.disabled$.value&&this.disabled$.next(t)}},{key:"ngOnChanges",value:function(t){var e=t.status,n=t.fieldSize;e&&this.status$.next(this.status),n&&this.size$.next(this.fieldSize)}},{key:"ngOnInit",value:function(){var t=this;this.focusMonitor.monitor(this.elementRef).pipe(Object(o.a)((function(t){return!!t})),Object(u.a)((function(){return t.focusMonitor.stopMonitoring(t.elementRef)})),Object(c.a)(this.destroy$)).subscribe(this.focused$)}},{key:"ngAfterViewInit",value:function(){var t=this;this.zone.runOutsideAngular((function(){return setTimeout((function(){t.renderer.addClass(t.elementRef.nativeElement,"nb-transition")}))}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next()}},{key:"status",get:function(){return this._status},set:function(t){""===t?(ot("NbInput"),this._status="basic"):this._status=t}},{key:"fullWidth",get:function(){return this._fullWidth},set:function(t){this._fullWidth=at(t)}},{key:"tiny",get:function(){return"tiny"===this.fieldSize}},{key:"small",get:function(){return"small"===this.fieldSize}},{key:"medium",get:function(){return"medium"===this.fieldSize}},{key:"large",get:function(){return"large"===this.fieldSize}},{key:"giant",get:function(){return"giant"===this.fieldSize}},{key:"primary",get:function(){return"primary"===this.status}},{key:"info",get:function(){return"info"===this.status}},{key:"success",get:function(){return"success"===this.status}},{key:"warning",get:function(){return"warning"===this.status}},{key:"danger",get:function(){return"danger"===this.status}},{key:"basic",get:function(){return"basic"===this.status}},{key:"control",get:function(){return"control"===this.status}},{key:"rectangle",get:function(){return"rectangle"===this.shape}},{key:"semiRound",get:function(){return"semi-round"===this.shape}},{key:"round",get:function(){return"round"===this.shape}}]),t}()).\u0275fac=function(t){return new(t||wt)(i.Sb(i.l),i.Sb(U),i.Sb(i.F),i.Sb(i.A))},wt.\u0275dir=i.Nb({type:wt,selectors:[["input","nbInput",""],["textarea","nbInput",""]],hostVars:32,hostBindings:function(t,e){2&t&&i.Ib("input-full-width",e.fullWidth)("size-tiny",e.tiny)("size-small",e.small)("size-medium",e.medium)("size-large",e.large)("size-giant",e.giant)("status-primary",e.primary)("status-info",e.info)("status-success",e.success)("status-warning",e.warning)("status-danger",e.danger)("status-basic",e.basic)("status-control",e.control)("shape-rectangle",e.rectangle)("shape-semi-round",e.semiRound)("shape-round",e.round)},inputs:{fieldSize:"fieldSize",shape:"shape",status:"status",fullWidth:"fullWidth"},features:[i.Db([{provide:Bt,useExisting:yt}]),i.Cb]}),wt),Lt=((vt=function t(){_classCallCheck(this,t)}).\u0275mod=i.Qb({type:vt}),vt.\u0275inj=i.Pb({factory:function(t){return new(t||vt)},imports:[[$]]}),vt),Rt=((_t=kt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(t){return{ngModule:kt,providers:[{provide:St,useValue:t||{}}]}}},{key:"forChild",value:function(t){return{ngModule:kt,providers:[{provide:St,useValue:t||{}}]}}}]),t}()).\u0275mod=i.Qb({type:_t}),_t.\u0275inj=i.Pb({factory:function(t){return new(t||_t)},imports:[[$,rt,Lt,It]]}),_t),Dt=i.ac(U)}}]);