(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{b8Qw:function(r,e,o){"use strict";o.r(e),o.d(e,"SignInModule",(function(){return w}));var t=o("2kYt"),n=o("Cd2c"),i=o("sEIs"),a=o("R6jH"),c=o("nIj0"),s=o("C05f"),m=o("l3rL"),u=o("EM62"),b=o("29Wa"),l=o("PBFl");function p(r,e){1&r&&(u.Yb(0,"mat-error"),u.Dc(1," Please enter a valid email address "),u.Xb())}function f(r,e){1&r&&(u.Yb(0,"mat-error"),u.Dc(1," Email is "),u.Yb(2,"strong"),u.Dc(3,"required"),u.Xb(),u.Xb())}function d(r,e){1&r&&(u.Yb(0,"mat-error"),u.Dc(1," Password must be at least 8 characters long. "),u.Xb())}function g(r,e){if(1&r&&(u.Yb(0,"mat-error"),u.Dc(1),u.jc(2,"async"),u.Xb()),2&r){const r=u.ic();u.Eb(1),u.Fc(" ",u.kc(2,1,r.error)," ")}}let h=(()=>{class r{constructor(r,e){this.fire=r,this.router=e,this.error=new s.a(void 0),this.formGroup=new c.e({email:new c.c("",[c.r.required,c.r.email]),password:new c.c("",[c.r.required,c.r.minLength(8)])})}signIn(){const r=this.formGroup.value;this.fire.signInWithEmailAndPassword(r.email,r.password).then(r=>{r?this.router.navigate(["/home"],{replaceUrl:!0}):this.error.next("Invalid email/password combination.")})}signUp(r){const e=this.formGroup.value;this.fire.createUserWithEmailAndPassword(e.email,e.password,"PANTRY"===r?m.b.PantryAdmin:m.b.Customer).then(r=>{r?this.router.navigate(["/home"],{replaceUrl:!0}):this.error.next("Failed to create account.")})}}return r.\u0275fac=function(e){return new(e||r)(u.Sb(a.a),u.Sb(i.d))},r.\u0275cmp=u.Mb({type:r,selectors:[["cooper-sign-in"]],decls:23,vars:7,consts:[[1,"centered-view",3,"formGroup"],["type","email","matInput","","placeholder","user@emailprovider.com","formControlName","email","required",""],[4,"ngIf"],["type","password","matInput","","formControlName","password","required",""],["mat-flat-button","",3,"click"]],template:function(r,e){1&r&&(u.Yb(0,"form",0),u.Yb(1,"h1"),u.Dc(2,"Sign In/Sign Up"),u.Xb(),u.Yb(3,"mat-form-field"),u.Yb(4,"mat-label"),u.Dc(5,"Email"),u.Xb(),u.Tb(6,"input",1),u.Bc(7,p,2,0,"mat-error",2),u.Bc(8,f,4,0,"mat-error",2),u.Xb(),u.Yb(9,"mat-form-field"),u.Yb(10,"mat-label"),u.Dc(11,"Password"),u.Xb(),u.Tb(12,"input",3),u.Bc(13,d,2,0,"mat-error",2),u.Bc(14,g,3,3,"mat-error",2),u.jc(15,"async"),u.Xb(),u.Yb(16,"div"),u.Yb(17,"button",4),u.gc("click",(function(){return e.signIn()})),u.Dc(18," Sign In "),u.Xb(),u.Yb(19,"button",4),u.gc("click",(function(){return e.signUp("CUSTOMER")})),u.Dc(20," Customer Sign Up "),u.Xb(),u.Yb(21,"button",4),u.gc("click",(function(){return e.signUp("PANTRY")})),u.Dc(22," Staff Sign Up "),u.Xb(),u.Xb(),u.Xb()),2&r&&(u.oc("formGroup",e.formGroup),u.Eb(7),u.oc("ngIf",e.formGroup.get("email").hasError("email")&&!e.formGroup.get("email").hasError("required")),u.Eb(1),u.oc("ngIf",e.formGroup.get("email").hasError("required")),u.Eb(5),u.oc("ngIf",e.formGroup.get("password").hasError("required")||e.formGroup.get("password").hasError("minlength")),u.Eb(1),u.oc("ngIf",u.kc(15,5,e.error)))},directives:[c.s,c.l,c.f,b.c,b.f,n.a,c.a,c.k,c.d,c.q,t.m,l.a,b.b],pipes:[t.b],encapsulation:2,changeDetection:0}),r})(),w=(()=>{class r{}return r.\u0275mod=u.Qb({type:r}),r.\u0275inj=u.Pb({factory:function(e){return new(e||r)},imports:[[t.c,c.p,n.b,l.b,i.h.forChild([{path:"",component:h}])]]}),r})()}}]);